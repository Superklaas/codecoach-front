<ng-container [ngSwitch]="perspective">

  <ng-container *ngSwitchCase="'coach'" [ngSwitch]="session.status">
    <app-requested-coach-session-details *ngSwitchCase="'REQUESTED'" [session]="session" (sessionUpdate)="sessionUpdate.emit($event)"></app-requested-coach-session-details>
    <app-cancellable-session-details *ngSwitchCase="'ACCEPTED'" [session]="session" perspective="coach" cancelStatus="SESSION_CANCELLED_BY_COACH" (sessionUpdate)="sessionUpdate.emit($event)"></app-cancellable-session-details>
    <app-waiting-feedback-coach-session-details *ngSwitchCase="'WAITING_FEEDBACK'" [session]="session"  (sessionUpdate)="sessionUpdate.emit($event)"></app-waiting-feedback-coach-session-details>
    <app-feedback-received-details *ngSwitchCase="'FEEDBACK_RECEIVED'" [session]="session" perspective="coach"  (sessionUpdate)="sessionUpdate.emit($event)"></app-feedback-received-details>
    <app-common-session-details *ngSwitchDefault [session]="session" [perspective]="perspective"></app-common-session-details>
  </ng-container>

  <ng-container *ngSwitchCase="'coachee'" [ngSwitch]="session.status">
    <app-cancellable-session-details *ngSwitchCase="'REQUESTED'" [session]="session" perspective="coachee" cancelStatus="REQUEST_CANCELLED_BY_COACHEE" (sessionUpdate)="sessionUpdate.emit($event)"></app-cancellable-session-details>
    <app-cancellable-session-details *ngSwitchCase="'ACCEPTED'" [session]="session" perspective="coachee" cancelStatus="SESSION_CANCELLED_BY_COACHEE" (sessionUpdate)="sessionUpdate.emit($event)"></app-cancellable-session-details>
    <app-waiting-feedback-coachee-session-details *ngSwitchCase="'WAITING_FEEDBACK'" [session]="session"  (sessionUpdate)="sessionUpdate.emit($event)">
    </app-waiting-feedback-coachee-session-details>
    <app-feedback-received-details *ngSwitchCase="'FEEDBACK_RECEIVED'" [session]="session" perspective="coachee"  (sessionUpdate)="sessionUpdate.emit($event)"
    ></app-feedback-received-details>
    <app-common-session-details *ngSwitchDefault [session]="session" [perspective]="perspective"></app-common-session-details>
  </ng-container>

</ng-container>

